---
layout: post
title: 『Effective C++ 读书笔记19』 设计 class 犹如设计 type
date: 2016-05-20
tags:
  - cpp
---

`C++` 中，当设计一个新的 `class` 时，就是定义了一个新的 `type`。设计一个新的`type` 应该面对什么问题：

-	新 `type` 的对象应该如何被创建和销毁？影响到你的 `class` 的构造函数和析构函数以及内存分配函数和释放函数的设计。
-	对象的初始化和对象的赋值该有什么样的差别？决定你的构造函数和赋值操作符的行为，以及其间的差异。不能混淆『初始化』和『赋值』，因为他们对应于不同的函数调用。
-	新 `type` 的对象如果 `pass by value`，意味着什么？`copy` 构造函数用来定义一个 `type` 的 `pass-by-value` 该如何实现。
-	什么是新`type`的『合法值』？
-	你的新`type`需要配合某个继承图系吗？你的 `classes` 能否被继承，区分虚函数和非虚函数等等。
-	你的新 `type` 需要什么样的转换？是否应该写转换函数
-	什么样的操作符和函数对此新`type`而言是合理的？
-	什么样的标准函数应该驳回？定义在 `private` 中的函数
-	谁该取用新`type`的成员？
-	什么是新`type`的『未申明接口』?
-	你的新`type`有多么一般化？
-	你真的需要一个新`type`吗？

---

-  `Class` 的设计就是 `type` 的设计。在定义一个新 `type` 之前，请确定你已经考虑过本条款覆盖的所有讨论主题
